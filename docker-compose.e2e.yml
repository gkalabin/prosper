services:
  e2e-test-db:
    image: mysql:8.0
    container_name: prosper-e2e-test-db
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: prosper_e2e_test_db
    ports:
      - '3307:3306'
    healthcheck:
      test: ['CMD', 'mysqladmin', 'ping', '-h', 'localhost']
      timeout: 5s
      retries: 10
    # Use tmpfs (RAM disk) for speed and auto-cleanup on restart
    tmpfs:
      - /var/lib/mysql
